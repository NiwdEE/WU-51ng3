FROM python:3.13-slim

COPY ./website/requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
RUN useradd app

WORKDIR /app
COPY ./website/app.py .
COPY ./website/templates ./templates

USER app
EXPOSE 80
CMD ["gunicorn", "--bind", "0.0.0.0:80", "--access-logfile", "-", "app:app"]
